

# Python与自动化

> [官方文档](https://docs.python.org/zh-cn/3/tutorial/index.html) | [课后练习]() | [SSSS](https://pythonhowto.readthedocs.io/zh-cn/latest/install.html)

​	　Python是一种解释型、面向对象、动态数据类型的高级程序设计语言。

[Python思维导图]



## 入门

### 从HelloWord开始

​	　首先，我们在Python官网[下载Python安装包](https://www.python.org/downloads/)。在这个安装包里有Python解释器、Python运行所需要的基础库、以及交互式运行工具`Python Shell` 和 包管理工具 `pip` 等。

​	　注意，在安装过程中需勾选复选框`Add Python PATH`，然后点击`Install Now`即可完成安装。

```
# 查询安装的Python版本
C:\Users\Administrator>py --version
Python 3.11.4

# 查询安装的pip版本
# 注意：Python 2.7.9 + 或 Python 3.4+ 以上版本都自带 pip 工具，无需单独安装
C:\Users\Administrator>pip3 --version
pip 24.0 from D:\program\python3.11\Lib\site-packages\pip (python 3.11)
```

​	　接着，下载并安装 [Pycharm Professional](https://www.jetbrains.com/pycharm/)，激活参考[这里](https://www.exception.site/essay/pycharm-pojie-jihuoma)。新建一个工程

```python
print("HelloWord")
```

​	　在Pycharm中新建Python工程，并编写HelloWord程序，运行后若打印HelloWord字样，则表明全部安装成功。

### 简单的猜数游戏

​	　Python代码是由关键字、标识符、表达式和语句等构成的，一行代码表示一条语句，在一般情况下**语句结束时不加分号**。

（1）标识符

​	　标识符是变量、函数、属性、类、模块等的名称，由**下画线**、**字母**和**数字**组成，**区分大小写** 且 **首字符必须是下画线或字母**。另外，关键字 或 Python的内置函数不能作为标识符；中文也不建议作为标识符。

```
# 正确的标识符
身高  user_name  _sys_val
# 错误的标识符
class 2mail room#
```

（2）关键字

​	　关键字是由语言本身定义好的有特殊含义的代码元素。Python具有33个关键字，这些关键字的含义后续会慢慢介绍。

```
False None True
if elif else for while break continue
try finally pass with class def return
and not or in is as from global import
del except nonlocal raise yield lambda assert
```

（3）代码注释

```python
# coding=utf-8

#单行注释
print("你好") # 尾行注释
```



## 数据类型

​	　在Python中**所有的数据类型都是类**，**每个数据值都是类的实例**。在Python中有6种主要的内置数据类型：数字、字符串、列表、元组、集合和字典。可以使用`type()`来查询变量此时的类型。序列（sequence）是一种可迭代的、元素有序的容器类型的数据，包括列表（list）、字符串（str）、元组（tuple）和字节序列 （bytes）。	　序列中的元素都是有序的，每一个元素都带有序号，这个序号叫作 索引。索引有正值索引和负值索引之分。可以通过下标运算符访问序列中的元素的

### 数字

​	　Python中的数字类型有4种：整数类型、浮点类型、复数类型和布尔类型。注意，布尔类型也是一种整数类型。

（1）整数类型

```python
28       # 十进制表示
0b11100  # 二进制表示，0b或0B开头
0o34     # 八进制表示，数字0和字母o(或O)开头
0x1c     # 十六进制，以数字0和字母x(或X)开头
```



（2）浮点类型

​	　可以采用 小数 或 科学计数法 表示浮点数。在科学计数法中会使用E(或e)表示10的指数，如e2表示10<sup>2</sup>。

```python
1.0 # 使用小数表示
3.1e2 # 科学计数法，表示310.0
3.1e-2 # 科学计数法，表示0.031
.1e2 # 科学计数法，表示10.0
```



（3）复数类型

​	　整数和浮点数（小数）在数学中被统称为实数。与实数对应的是复数，复数在数学中被表示为：`a+bi`，其中a被称为**实部**，b被称为**虚部**，**i 被称为虚数单位**。

```python
1+2i # 表示实部为1、虚部为2的复数
```



（4）布尔类型

​	　Python中布尔类型是bool类，bool是的int的子类，它只有两个值True和False。

```python
True  # 布尔值True
False # 布尔值False
```



（5）数字类型的相互转换

​	　在Python的数字类型中，除复数外，其他三种数字类型如整数、浮 点和布尔都可以相互转换，分为**隐式类型的转换**和**显式类型的转换**。

```python
# 隐式类型的转换
1 + True # True会被转换为整数
1.0 + 1 + True  # 1 和 True会被转换为浮点型

# 显式类型的转换
int(6.3)     # 浮点数会被截掉小数部分，输出6
int('6')     # 输出6
int('6.3')   # error,传入的字符串必须是整数
int(True)    # 输出1
float(6)     # 整数值会加上小数部分,输出6.0
float('6.3') # 字符转成浮点数，输出6.3
bool('')     # None0、0.0、0i、''、[]、{}、() 会被转换成False
bool(' ')    # 非空字符串、非0 会被转换成True
str(6.3)     # 数字转为字符串、
```



运算符与表达式

（1）算数运算符

​	　算术运算符用于组织整数类型和浮点类型的数据，有一元运算符和二元运算符之分。一元算术运算符有两个：+（正号）和-（负号），二元算术运算符如下所示：

| 运算符 |   名称   |           说明           | 实例                                         |
| :----: | :------: | :----------------------: | :------------------------------------------- |
|   +    |    加    |        求a与b之和        | 1.0 + True = 2.0<br>(1+2i) + (2+3i) = 3 + 5i |
|   -    |    减    |        求a与b之差        |                                              |
|   *    |    乘    |        求a与b之积        |                                              |
|   /    |    除    |  求a除以b的商,b不能为0   | 3 / 2 = 1.5<br>3 / 0  # error，除零异常      |
|   %    |   取余   |      求a除以b的余数      | 3 % 2 = 1                                    |
|   **   |    幂    |        求a的b次幂        | 3 ** 2 = 9                                   |
|   //   | 地板除法 | 求小于a与b的商的最大整数 | 3 // 2 = 1 <br>-3 // 2 = -2                  |

拓展： `+` 有 **正号** 、**加号** 、 **连接符** 三种含义；`*` 有 **乘** 和 **复制** 两种含义，具体如下：

| 运算符 |  名称  |          说明          | 实例                                                         |
| :----: | :----: | :--------------------: | :----------------------------------------------------------- |
|   +    | 连接符 | 连接字符串、列表和元组 | 'hi' + 'joy' = 'hi joy' # 连接字符串<br>[1] + [2] = [1,2] # 连接列表<br>(1,)+ (2,) = (1,2) # 连接元组<br>(1,)+ (2) = (1,2) # error，元组+数字，类型不一<br/>'hi'+6.3  # error，字符串+数字，类型不一 |
|   *    | 复制符 | 复制字符串、列表和元组 | 'hi' * 2      # 复制字符串，输出 hihi<br>'hi' * 0      # 数字小于等于0，无输出<br/>'hi' * 2.0   # error，只能是正整数<br/>'hi' * '2'     # error，只能是正整数<br/>[1,2] * 2   # 复制列表，输出 [1, 2, 1, 2]<br>(1,2) * 2    # 复制元组，输出 (1, 2, 1, 2) |



（2）比较运算符

​	　比较数字类型时比较的是数值大小；比较字符串、列表等容器类型数据时，会逐一比较其中元素的大小，如果第1个元素不能比较出大小，则比较第2个元素，直到比较有了结果才结束比较。注意，元素的类型要兼容。

| 运算符 |   名称   |         说明         | 实例                                                         |
| ------ | :------: | :------------------: | ------------------------------------------------------------ |
| ==     |   等于   |   a等于b时返回True   | 1.0 == 1 # True，数值比较<br>'hi' == 'hi' # 字符比较         |
| !=     |  不等于  |       与==相反       | 1.0 != 1 # False，数值比较<br>'1' != 1  # True，Uicode和数字比较 |
| >      |   大于   |   a大于b时返回True   | 'word' > 'hi' # True，字符比较<br>[1] > [] # True<br>[2] > [1] # True<br>[2] > ['1'] # error，列表中元素类型不兼容<br>'hi' > [1]  # error，容器类型不兼容 |
| <      |   小于   |   a小于b时返回True   |                                                              |
| >=     | 大于等于 | a大于等于b时返回True |                                                              |
| <=     | 小于等于 | a小于等于b时返回True |                                                              |



（3）逻辑运算符

​	　逻辑运算符用于对布尔型变量进行运算，其结果也是布尔型。注意，逻辑运算符 `and` 和 逻辑运算符 `or` 具有短路设计，只有计算过程中结果确定，则不再计算后面的表达式，从而提高效率。

| 运算符 |  名称  |   示例   |                    说明                    |
| :----: | :----: | :------: | :----------------------------------------: |
|  not   | 逻辑非 |  not a   | a为True时，值为False；a为False时，值为True |
|  and   | 逻辑与 | a and  b |   a、b全为True时，值为True，否则为False    |
|   or   | 逻辑或 |  a or b  |   a、b全为False时，值为False，否则为True   |



（4）位运算符

​	　位运算是以二进位（bit）为单位进行运算的，操作数和结果都是整数类型的数据。

| 运算符 |  名称  |  例子  |              说明              |
| :----: | :----: | :----: | :----------------------------: |
|   ~    |  位反  |   ~x   |       ~a = (a + 1)  * -1       |
|   &    |  位与  | x & y  |                                |
|   \|   |  位或  | x \| y |                                |
|   ^    | 位异或 | x  ^ y |                                |
|   >>   |  右移  | x >> a | 将x右移a位，高位采用符号位补位 |
|   <<   |  坐移  | x << a |    将x左移a位，低位用0补位     |



（5）赋值运算符

​	　在Python中**为一个变量赋值的同时就声明了该变量**，该变量的数据类型就是赋值数据所属的类型，该变量还可以接收其他类型的数据。

|                          运算符                          |    名称    | 实例                                                      |
| :------------------------------------------------------: | :--------: | :-------------------------------------------------------- |
|                            =                             | 赋值运算符 | val = 8  # 声明并赋值val变量<br>a = b = c = 8  # 链式赋值 |
| +=、-=、*=、、/=、%=、** =<br>//=、&=、\|=、^=、<<=、>>= | 复合运算符 | a += b 等价于 a = a + b                                   |

### 字符串

（1）索引操作

```python
a = 'hello'
a[0] # 'h' 正值索引，从0开始
a[-1] # 'o' 负值索引，从-1开始
a[5] # error,索引范围
```

（2）加和乘操作



（3）切片操作



（4）相关函数

```python
max('hello') # o,返回最后一位
min('hello') # h,返回第一位
len('hello') # 5，获取序列长度  
```



### 列表

### 元组

### 集合

### 字典

## 更多的语法

### 流程控制语句

（1）分支语句

​	　`if语句`有三种结构，具体语法格式如下：

```python
# 第一种结构
if 条件:
    语句组

# 第二种结构 
if 条件:
    语句组1
else:
    语句组2

# 第三种结构
if 条件:
    语句组1
elseif 条件:
    语句组2
...
else:
    语句组n
```



（2）while循环语句

​	　循环语句有`while`和`for`两种，while语句多用于循环，for语句多用于迭代对象。`else`子语句**在循环正常结束时执行**，当循环遇到break、return或异常被中断时不执行。

```python
# while语句
while 循环条件:
    循环体语句组
[else：
    语句组]
```



（3）for循环语句

​	　for语句语法格式如下：

```python
# 可迭代对象包括字符串、列表、元组、集合和字典等
for 元素 in 可迭代对象:
    循环体语句组
[else：
    语句组]
```



（4）跳转语句

​	　跳转语句能够改变程序的执行顺序，分为`break`、`continue`和`return`三种，break和continue用于循环体中，而return用于函数中。

​	　break语句用于强行退出循环体，不再执行循环体中剩余的语句；continue语句用于结束本次循环，跳过循环体中尚未执行的语句，接着进行终止条件的判断，以决定是否继续循环。

```python
for item in range(5):
    if item == 1 :
        continue
    if item == 3 :
        break
    print(item)
# 输出：0 2
```



### 函数和装饰器

### 错误和异常处理

### 类与对象

### 模块和包

​	　在Python中一个模块就是一个文件，模块是保存代码的最小单位， 在模块中可以声明变量、函数、属性和类等Python代码元素。

```
# 方式一：导入模块的所有代码元素，在访问时需要加前缀"模块名."
import ＜模块名＞

# 方式二：指定导入模块的某一元素,若导入的元素名不重复，则别名可忽略
from ＜模块名＞ import ＜元素＞ [as ＜别名＞]
```



## 标准库

### 输入输出

### 时间与日期

### 文件操作

### 连接数据库

### GUI图形页面

### Socket通讯



## 进阶

### 生成器和迭代器

### 内置模块

### 外部函数接口

### 并发实战

### 调试和性能优化



## 附录

（1）Python推荐书单

```
- 看漫画学Python
- Python编程：从入门到实践
- Python高性能编程
- 流畅的Python
- 漫画算法：小灰的算法之旅（Python版）
- Python网络数据采集
```


